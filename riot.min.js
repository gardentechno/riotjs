/* Riot 0.9.8, @license MIT, (c) 2014 Moot Inc + contributors */
(function(n){"use strict";n.observable=function(n){var e={},t=[].slice;n.on=function(t,r){if(typeof r==="function"){t.replace(/[^\s]+/g,function(n,t){(e[n]=e[n]||[]).push(r);r.typed=t>0})}return n};n.off=function(t){t.replace(/[^\s]+/g,function(n){e[n]=[]});if(t=="*")e={};return n};n.one=function(e,t){if(t)t.one=true;return n.on(e,t)};n.trigger=function(r){var o=t.call(arguments,1),u=e[r]||[];for(var i=0,c;c=u[i];++i){if(!(c.one&&c.done||c.busy)){c.busy=true;c.apply(n,c.typed?[r].concat(o):o);c.done=true;c.busy=false}}return n};return n};var e={};var t={"\\":"\\\\","\n":"\\n","\r":"\\r","\u2028":"\\u2028","\u2029":"\\u2029","'":"\\'"};var r={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};n.render=function(n,o){if(!n)return"";e[n]=e[n]||new Function("_","E","return '"+n.replace(/[\\\n\r\u2028\u2029']/g,function(n){return t[n]}).replace(/\{\s*([\.\w]+)\s*\}/g,"'+(function(){try{return(_.$1?(_.$1+'').replace(/[&\"<>]/g,function(e){return E[e];}):(_.$1===0?0:''))}catch(e){return ''}})()+'")+"'");return e[n](o,r)};if(typeof top!="object")return;var o,u=n.observable({}),i=document;function c(n){if(typeof n!="string")n=window.location.hash;if(n.charAt(0)=="#")n=n.substring(1);if(n!=o)u.trigger("pop",n);o=n}jQuery(window).bind("hashchange",c);jQuery(c);n.route=function(n){if(typeof n==="function")return u.on("pop",n);n=n.substring(n.indexOf("#"),n.length);window.location.hash=n;if(!("onhashchange"in window)){c(n)}}})(typeof top=="object"?window.$||(window.$={}):exports);